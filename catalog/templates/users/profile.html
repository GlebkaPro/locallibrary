{% extends "base_generic.html" %}
{% block content %}
  {% load static %}
  <link rel="stylesheet" href="{% static 'css/styles.css' %}">
  <h1>Профиль</h1>

  <form method="post" enctype="multipart/form-data" class="card">
    {% csrf_token %}
    <div class="d-flex flex-row">
      <div class="image-container order-first">
        {% if user.avatar %}
          <img src="{{ user.avatar.url }}" class="card-img-top img-fluid avatar-img" alt="Аватар">
        {% else %}
          <img src="/images/users/default.png" width="200" height="200" role="img" aria-label="Заполнитель: Эскиз"
               class="bd-placeholder-img avatar-img">
        {% endif %}
      </div>


      <div class="text-container card-body order-last">
        <div class="form-error">{{ form.non_field_errors }}</div>

        <div class="mb-3">
          <label for="{{ form.avatar.id_for_label }}" class="form-label">Аватар</label>
          <div class="input-group">
            <input type="file" class="form-control" id="{{ form.avatar.id_for_label }}" name="{{ form.avatar.name }}"
                   style="max-width: 300px;">
          </div>
          <div class="form-error">{{ form.avatar.errors }}</div>
        </div>

        <div class="mb-3">
          <label for="{{ form.username.id_for_label }}" class="form-label">Имя пользователя</label>
          <input type="text" class="form-control" id="{{ form.username.id_for_label }}" name="{{ form.username.name }}"
                 value="{{ form.username.value }}" style="max-width: 200px;" readonly>
          <div class="form-error">{{ form.username.errors }}</div>
        </div>

        <div class="mb-3">
          <label for="{{ form.email.id_for_label }}">Email:</label>
          <input type="text" class="form-control" id="{{ form.email.id_for_label }}" name="{{ form.email.name }}"
                 value="{{ form.email.value }}" style="max-width: 200px;">
          <div class="form-error">{{ form.email.errors }}</div>
        </div>

        <div class="mb-3">
          <label for="{{ form.date_birth.id_for_label }}" class="form-label">Дата рождения:</label>
          <div class="input-group date">
            {{ form.date_birth }}
            <span class="input-group-addon">
                    <i class="glyphicon glyphicon-calendar"></i>
                </span>
          </div>
          <div class="form-error">{{ form.date_birth.errors }}</div>
        </div>


        <div class="mb-3">
          <label for="{{ form.last_name.id_for_label }}" class="form-label">Фамилия:</label>
          <input type="text" class="form-control" id="{{ form.last_name.id_for_label }}"
                 name="{{ form.last_name.name }}" value="{{ form.last_name.value }}" style="max-width: 200px;">
          <div class="form-error">{{ form.last_name.errors }}</div>
        </div>

        <div class="mb-3">
          <label for="{{ form.first_name.id_for_label }}" class="form-label">Имя:</label>
          <input type="text" class="form-control" id="{{ form.first_name.id_for_label }}"
                 name="{{ form.first_name.name }}" value="{{ form.first_name.value }}" style="max-width: 200px;">
          <div class="form-error">{{ form.first_name.errors }}</div>
        </div>

        <div class="mb-3">
          <label for="{{ form.middle_name.id_for_label }}" class="form-label">Отчество:</label>
          <input type="text" class="form-control" id="{{ form.middle_name.id_for_label }}"
                 name="{{ form.middle_name.name }}"
                 value="{% if form.middle_name.value != None %}{{ form.middle_name.value }}{% endif %}"
                 style="max-width: 200px;">
          <div class="form-error">{{ form.middle_name.errors }}</div>
        </div>


        <div class="mb-3">
          <button type="submit" class="btn btn-primary">Сохранить</button>
        </div>
      </div>
    </div>
  </form>
{% endblock %}
